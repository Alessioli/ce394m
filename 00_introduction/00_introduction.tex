%**************************************************************************************
% License:
% CC BY-NC-SA 4.0 (http://creativecommons.org/licenses/by-nc-sa/4.0/)
%**************************************************************************************

\documentclass[beamer]{beamer}

\mode<presentation> {

\usetheme{Madrid}

% Burnt orange
\definecolor{burntorange}{rgb}{0.8, 0.33, 0.0}
\colorlet{beamer@blendedblue}{burntorange}
% Pale yellow
\definecolor{paleyellow}{rgb}{1.0, 1.0, 0.953}
\setbeamercolor{background canvas}{bg=paleyellow}
% Secondary and tertiary palett
\setbeamercolor*{palette secondary}{use=structure,fg=white,bg=burntorange!80!black}
\setbeamercolor*{palette tertiary}{use=structure,fg=white,bg=burntorange!60!black}

% To remove the footer line in all slides uncomment this line
%\setbeamertemplate{footline}
% To replace the footer line in all slides with a simple slide count uncomment this line
%\setbeamertemplate{footline}[page number]

% To remove the navigation symbols from the bottom of all slides uncomment this line
%\setbeamertemplate{navigation symbols}{}
}

\usepackage{amsmath}
\usepackage{bm}
\usepackage{breqn}
\usepackage{graphicx} % for figures
\usepackage{subcaption} % for subplots 
\usepackage[labelsep=space,tableposition=top]{caption}
\renewcommand{\figurename}{Fig.} 
\usepackage{cleveref}
\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------
% The short title appears at the bottom of every slide, the full title is only on the title page
\title[CE394M: Geotechnical modeling]{CE394M Advanced Analysis in Geotechnical Engineering: Introduction} 
\author{Krishna Kumar} % name
\institute[UT Austin] % institution 
{
University of Texas at Austin \\
\medskip
\textit{
  \url{krishnak@utexas.edu}} % Your email address
}
\date{\today} % Date, can be changed to a custom date

\begin{document}

\begin{frame}
\titlepage % title page as the first slide
\end{frame}

\begin{frame}
 % Table of contents slide, comment this block out to remove it
 \frametitle{Overview}
 % Throughout your presentation, if you choose to use \section{} and \subsection{} 
 % commands, these %will automatically be printed on this slide as an overview 
 \tableofcontents
\end{frame}

%----------------------------------------------------------------------------------------
% slides
%----------------------------------------------------------------------------------------

%------------------------------------------------
\section{Geotechnical modeling}
%------------------------------------------------

\subsection{Complexity in Geotechnical modeling}
%------------------------------------------------
\begin{frame}
\frametitle{Geotechnical modeling of the complex world}
\begin{figure}
	\mode<beamer>{
		\includegraphics[width=0.85\textwidth]{figs/lbs.png}
	}
	\mode<handout>{
		\includegraphics[width=0.85\textwidth]{figs/lbs-overview.jpg}
	}
	\caption{London Bridge Station, London, UK}
\end{figure}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Geotechnical modeling of the complex world}
\begin{figure}
	\includegraphics[width=0.85\textwidth]{figs/victoria-station.png}
	\caption{London Victoria station upgrade, London, UK}
\end{figure}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Geotechnical modeling}
\begin{figure}
  \mode<beamer>{
	\includegraphics[width=0.95\textwidth]{figs/geotechnical-modeling-final.png}
  }
  \mode<handout>{
	\includegraphics[width=0.95\textwidth]{figs/geotechnical-modeling.png}
  }
\end{figure}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Soil behavior}
\begin{itemize}
	\item nonhomogeneous,
	\item anisotropic, 
	\item non-linear, 
	\item initial stress conditions, 
	\item stress history
	\item Geometry - very complex
\end{itemize}
\textbf{Soil Mechanics in practice - largely empirical}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Geotechnical modeling: What should be modeled?}
\mode<beamer>{
\begin{itemize}
	\item Self weight effect of soils (This is why soil moves)
	\item Construction sequence (Complex geometry)
	\item Water movement (undrained, consolidation, drained)
	\item Insitu stresses (stiffness/strength depends on current stresses and stress history)
	\item Predict the ability of a design to withstand extreme loading conditions (you only have one chance)
\end{itemize}
}
\mode<handout>{
\vspace{4cm}
}
\begin{figure}
	\includegraphics[width=0.95\textwidth]{figs/geotechnical-modeling-examples.png}
\end{figure}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Scales of modeling in geotechnical engineering}
	\begin{figure}
		\includegraphics[width=0.95\textwidth]{figs/soil-scale.png}
	\end{figure}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Advanced analysis in geotechnical engineering}
Geotechnical design:
\mode<beamer>{
	\begin{itemize}
		\item Assess applied forces
		\item evaluate ``performance" (stability \& movements) under working and ultimate loads
	\end{itemize}
}
\mode<handout>{
	\vspace{3cm}
}
Analysis:
\mode<beamer>{
	\begin{itemize}
		\item Mathematical framework to perform calculations for these quantities
		\item Requires idealization of: geometry, soil properties, and loading conditions
		\item Analysis is a tool in design, but design involves more: acceptable movements, constraints, site characterization, etc.
	\end{itemize}
}
\mode<handout>{
	\vspace{3cm}
}
\end{frame}

\subsection{Classical vs advanced analysis}
%------------------------------------------------
\begin{frame}
\frametitle{Classical vs advanced analysis}
Classical approach:
\mode<beamer>{
	\begin{itemize}
		\item Failure estimates
		\begin{itemize}
			\item rigid perfectly-plastic stress-strain assumptions
			\item calculate factor of safety (What value do you pick?)
		\end{itemize}
		\item Deformation estimates
		\begin{itemize}
			\item Elastic analysis
			\item Use average elastic properties (like what??)
		\end{itemize}
	\end{itemize}
}
\mode<handout>{
	\vspace{3cm}
}
Advanced analysis:
\mode<beamer>{
	\begin{itemize}
		\item Failure and deformation are obtained from the same analysis
		\item Handle complex geometry
		\item More difficult to perform, more computational requirements and more info on soil behavior $\sigma - \epsilon$
		\item Need to know how to do it right!
	\end{itemize}
}
\mode<handout>{
	\vspace{3cm}
}
\end{frame}


%------------------------------------------------
\section{Numerical methods for differential equations}
\subsection{Direct method: Matrix analysis of structures}
%------------------------------------------------
\begin{frame}
\frametitle{Matrix analysis of structures}
\mode<beamer>{
	\begin{figure}
		\includegraphics[width=0.95\textwidth]{figs/matrix-analysis-structures-final.png}
	\end{figure}
}
\mode<handout>{
	\begin{figure}
		\includegraphics[width=0.95\textwidth]{figs/matrix-analysis-structures.png}
	\end{figure}
}

\begin{itemize}
	\item What are the known variables? \mode<beamer>{$d_1=0, P_2=0, P_3=F$(constant)}
	\item What are the unknowns? \mode<beamer>{$P_1, d_2, d_3$}
	\item What do we know? \mode<beamer>{Force or distortion relations at an element level.}
\end{itemize}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Matrix analysis of structures: Equilibrium}
\mode<handout>{\vspace{1cm}}
\mode<beamer>{A structure is considered to be in equilibrium if, initially at rest, it remains 
	at rest when subjected to a system of forces and couples. If a structure is in equilibrium, 
	then all of its members and joints must also be in equilibrium.}
\begin{itemize}
	\item $P_1 = $\mode<beamer>{$-S_1 -S_2$}
	\item What are the unknowns? \mode<beamer>{$P_1, d_2, d_3$}
	\item What do we know? \mode<beamer>{Force or distortion relations at an element level.}
\end{itemize}

\mode<beamer>{
\begin{equation*}
\begin{bmatrix}
P_1 \\
P_2 \\
P_3 \\
\end{bmatrix} = 
\begin{bmatrix}
-1 & -1 &  0 &  0 \\
 0 &  1 & -1 & -1 \\
 1 &  0 &  1 &  1 \\
\end{bmatrix} + 
\begin{bmatrix}
S_1 \\
S_2 \\
S_3 \\
s_4 \\
\end{bmatrix}
\end{equation*}

\begin{equation*}
\mathbf{P} = \mathbf{A^T} \mathbf{S}
\end{equation*}
}

\mode<handout>{
	\vspace{2cm}
}
\end{frame}


%------------------------------------------------
\begin{frame}
\frametitle{Matrix analysis of structures: Compatibility}
\mode<handout>{\vspace{4cm}}
\mode<beamer>{
\begin{itemize}
	\item compatibility relates the deformations of a structure so that its
	various parts (members, joints, and supports) fit together without any gaps or
	overlaps. 
	\item ensure that the deformed shape of the structure is continuous (except at the 
	locations of any internal hinges or rollers), and is consistent with the support
	conditions.
\end{itemize}
}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Matrix analysis of structures: Compatibility}
$v$ = internal spring distortion
$\delta$ = nodal displacement
\begin{itemize}
	\item $v_1 = $\mode<beamer>{$d_3 - d_1$}
	\item $v_2 = $\mode<beamer>{$d_2 - d_1$}
	\item $v_3 = $\mode<beamer>{$d_3 - d_2$}
	\item $v_4 = $\mode<beamer>{$d_3 - d_2$}
\end{itemize}


\mode<beamer>{
	\begin{equation*}
	\begin{bmatrix}
	v_1 \\
	v_2 \\
	v_3 \\
	v_4 \\
	\end{bmatrix} = 
	\begin{bmatrix}
	-1 &  0 &  1 \\
 	-1 &  1 &  0 \\
	 0 & -1 &  1 \\
	 0 & -1 &  1 \\
	\end{bmatrix} + 
	\begin{bmatrix}
	d_1 \\
	d_2 \\
	d_3 \\
	\end{bmatrix}
	\end{equation*}
	
	\begin{equation*}
	\mathbf{v} = \mathbf{A} \mathbf{d}
	\end{equation*}
}

\mode<handout>{
	\vspace{3cm}
}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Matrix analysis of structures: Physical condition}
Force-distance relationship: spring constant

\begin{center}
	\begin{tabular}{l l l l l}
		\toprule
		\textbf{spring \#} & 1 & 2 & 3 & 4 \\
		\textbf{stiffness ($F.L^{-1}$)} & 3 & 2 & 1 & 2 \\
		\bottomrule
	\end{tabular}
\end{center}

\mode<beamer>{
	\begin{equation*}
	\begin{bmatrix}
	S_1 \\
	S_2 \\
	S_3 \\
	S_4 \\
	\end{bmatrix} = 
	\begin{bmatrix}
	3 & 0 & 0 & 0 \\
	0 & 2 & 0 & 0 \\
	0 & 0 & 1 & 0 \\
	0 & 0 & 0 & 2 \\
	\end{bmatrix}
	\begin{bmatrix}
	v_1 \\
	v_2 \\
	v_3 \\
	v_4 \\
	\end{bmatrix}
	\end{equation*}
	
	\begin{equation*}
	\mathbf{s} = \mathbf{D} \mathbf{v}
	\end{equation*}
}

\mode<handout>{
	\vspace{3cm}
}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Matrix analysis of structures: Direct Method}
Combine all the equations:
$\mathbf{P}$ = \mode<beamer>{$\mathbf{A^TS = A^TDv = A^TDAd = Kd}$}

where $\mathbf{K}$ = \mode<beamer>{$A^T D A $ (Global stiffness matrix)}
\mode<beamer>{
\begin{align*} 	
K & = 
\begin{bmatrix}
-1 & -1 &  0 &  0 \\
0 &  1 & -1 & -1 \\
1 &  0 &  1 &  1 \\
\end{bmatrix}
\begin{bmatrix}
3 & 0 & 0 & 0 \\
0 & 2 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 2 \\
\end{bmatrix}
\begin{bmatrix}
-1 &  0 &  1 \\
-1 &  1 &  0 \\
0 & -1 &  1 \\
0 & -1 &  1 \\
\end{bmatrix} \notag \\%
%
%
 &= 
 \begin{bmatrix}
  5 & -2 & -3 \\
 -2 &  5 & -3 \\
 -3 & -3 &  6 \\
 \end{bmatrix} \\%
%
%
\begin{bmatrix}
P_1 \\
P_2 \\
P_3 \\
\end{bmatrix}
& =
\begin{bmatrix}
5 & -2 & -3 \\
-2 &  5 & -3 \\
-3 & -3 &  6 \\
\end{bmatrix}
\begin{bmatrix}
d_1 \\
d_2 \\
d_3 \\
\end{bmatrix}
\end{align*}
Apply Boundary conditions $d_1=0$, $P_2=0$ and $P_3=F$ and solve $P_1$, $d_2$ and $d_3$
}

\mode<handout>{
	\vspace{6cm}
}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Matrix analysis of structures}
\begin{figure}
	\mode<beamer>{
		\includegraphics[width=0.6\textwidth]{figs/computational-workflow.pdf}
	}
	\mode<handout>{
		\vspace{5cm}
	}
\end{figure}
\end{frame}

%------------------------------------------------
\subsection{Numerical analysis of engineering problems}
%------------------------------------------------
\begin{frame}
\frametitle{Numerical analysis of engineering problems}
\mode<beamer>{
\begin{itemize}
	\item Conceptualize the system
	\begin{itemize}
		\item Geometry
		\item Properties
		\item Processes
	\end{itemize}
	\item Describe it mathematically
	\begin{itemize}
		\item Select the relevant differential equations
	\end{itemize}
	\item Solve the equations (numerically)
	\begin{itemize}
		\item Discretize the system
		\item Settle for approximations (numerical techniques)
	\end{itemize}
	\item Interpret the results
\end{itemize}	
}
\mode<handout>{
	\vspace{5cm}
}
\includegraphics[width=\textwidth]{figs/numerical-pde-workflow.png}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Boundary value problems}

Differential equations coupled with boundary conditions

\begin{itemize}
	\item Steady state (time-independent)
\mode<beamer>{
	\begin{itemize}
		\item Static load-deformation problems: 
		$\partial \sigma / \partial x = 0$ (force + disp. B.C)
		\item Steady seepage state, flow problems: 
		$\partial q / \partial x = 0$ (head + flow B.C)
	\end{itemize}
}
\mode<handout>{
\vspace{2cm}
}
	\item Transient (time-dependent)
\mode<beamer>{
	\begin{itemize}
		\item Consolidation/pore-fluid migration/multiphase flows
		\item Dynamic loading (earthquakes, wave actions)
		\item Contaminant transport processes
	\end{itemize}
}
\mode<handout>{
\vspace{2cm}
}
\end{itemize}	
\end{frame}


%------------------------------------------------
\begin{frame}
\frametitle{Numerical solutions to differential equations}
\mode<beamer>{
	\begin{itemize}
		\item Finite differences: Approximate derivatives with expansion into a Taylor series
		\item Finite elements
		\item Boundary element method (BEM)
		\item Meshless methods
		\item Discrete/discontinuous element methods
		\item Others...
	\end{itemize}
}
\mode<handout>{
	\vspace{6cm}
}
\end{frame}

%------------------------------------------------
\section{Governing equations in stress-deformation analysis}
%------------------------------------------------
\begin{frame}
\frametitle{Governing equations in stress-deformation analysis}
In stress-deformation analysis, we need to consider:
\mode<beamer>{
	\begin{itemize}
		\item \textbf{Equilibrium - static conditions}
		\begin{itemize}
			\item forces and stress must agree across the region of interest. 
			(geometric problem)
		\end{itemize}
		\item \textbf{Compatibility-kinematic conditions}
		\begin{itemize}
			\item geometry, displacement and strains must agree across the
			      region of interest. (geometric problem)
      	\end{itemize}
		\item \textbf{Stress-strain relationship on physical conditions}
		\begin{itemize}
			\item material dependent relationship between stress and strain
			must be specified. (element level)
		\end{itemize}
	\end{itemize}
}
\mode<handout>{
	\vspace{6cm}
}
\end{frame}


%------------------------------------------------
\subsection{Equilibrium}
%------------------------------------------------
\begin{frame}
\frametitle{Governing equations in stress-deformation analysis}
The governing differential equation for equilibrium expresses: \mode<beamer>{$\sum \mathbf{F} = m \mathbf{a} $}
\mode<beamer>{
 \noindent
 \fboxsep=0pt
 \noindent
 \begin{minipage}[t]{0.48\linewidth}
	 \begin{itemize}
		\item $\sigma_{xx}$ acting on face $dy$ in the $-x$ direction
		\item $\tau_{xy}$ acting on face $dx$ in the $-x$ direction
		
		\item $\sigma_{xx} + \frac{\partial \sigma_{xx}}{\partial x} dx$ acting on face $dy$ in the $+x$ direction
		
		\item $\tau_{xy} + \frac{\partial \tau_{xy}}{\partial y} dy$ acting on face $dx$ in the $+x$ direction
		
		\item Plus ``body forces'' due to gravity: $\rho f_x dx dy$ where $f_x$ is body force per unit mass
	\end{itemize}
 \end{minipage}%
 \hfill%
 \begin{minipage}[t]{0.48\linewidth}
 	\begin{figure}
 		\includegraphics[width=\linewidth]{figs/equilibrium-finished.pdf}
 	\end{figure}
 \end{minipage}
}
\mode<handout>{
 	\begin{figure}
		\includegraphics[width=0.6\linewidth]{figs/equilibrium.pdf}
	\end{figure}
}
\end{frame}


%------------------------------------------------
\begin{frame}
\frametitle{Equilibrium equations}
Summing all this in the x-direction gives:
\mode<beamer>{
	\begin{multline*}
	-\sigma_{xx}dy - \tau_{xy}dx + %
	\left( \sigma_{xx} + \frac{\partial \sigma_{xx}}{\partial x} dx \right) dy \\%
	+ \left( \tau_{xy} + \frac{\partial \tau_{xy}}{\partial y} dy \right) dx + \rho f_x dx dy = %
	\rho dx dy a_x	
	\end{multline*}
}	
\mode<handout>{
	\vspace{2.5cm}
}

Cleaning up terms that cancel, and dividing through by \(dx dy\) gives
\mode<beamer>{
	\begin{equation*}
	\frac{\partial \sigma_{xx}}{\partial x} + %
	\frac{\partial \tau_{xy}}{\partial y}   + \rho f_x = %
	\rho a_x
	\end{equation*}
}	
\mode<handout>{
	\vspace{2cm}
}
	And summing forces in the y-direction leads to:
\mode<beamer>{
	\begin{equation*}	
	\frac{\partial \sigma_{yy}}{\partial y} + %
	\frac{\partial \tau_{xy}}{\partial x}   + \rho f_y = %
	\rho a_y
	\end{equation*}
}	
\mode<handout>{
	\vspace{1.5cm}
}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Equilibrium in 3D}
 	\begin{figure}
		\includegraphics[width=0.8\linewidth]{figs/stress-equilibrium.png}
	\end{figure}
\end{frame}


%------------------------------------------------
\begin{frame}
\frametitle{Equilibrium in 3D}
\mode<beamer>{
	\begin{align*}
	\frac{\partial \sigma_{xx}}{\partial x} +%
	\frac{\partial \sigma_{xy}}{\partial y} +%
	\frac{\partial \sigma_{xz}}{\partial z} + \rho f_x &= \rho a_x \\
	%
	\frac{\partial \sigma_{yx}}{\partial x} +%
	\frac{\partial \sigma_{yy}}{\partial y} +%
	\frac{\partial \sigma_{yz}}{\partial z} + \rho f_y &= \rho a_y \\
	%
	\frac{\partial \sigma_{zx}}{\partial x} +%
	\frac{\partial \sigma_{zy}}{\partial y} +%
	\frac{\partial \sigma_{zz}}{\partial z} + \rho f_z &= \rho a_z \\
	\end{align*}
}	
\mode<handout>{
\vspace{2.5cm}
}
The governing differential equation for equilibrium expresses $\sum \mathbf{F}=m\mathbf{a}$ in terms of derivatives of the stress tensor as:
\mode<beamer>{
$\nabla \bm{\sigma} + \rho \mathbf{f} = \rho \mathbf{a}$

$\bm{\sigma}$ is the stress tensor, \\
$\rho$ is density, \\
$\mathbf{f}$ is the body force vector per unit mass and \\
$\mathbf{a}$ is the acceleration vector.
}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{Stress equilibrium}

If the object is in equilibrium, then \mode<beamer>{$\mathbf{a}=0$ and $\sum \mathbf{F}=0$.} 

\mode<beamer>{
	\begin{align*}
	\frac{\partial \sigma_{xx}}{\partial x} +%
	\frac{\partial \sigma_{xy}}{\partial y} +%
	\frac{\partial \sigma_{xz}}{\partial z} + b_x &= 0\\
	%
	\frac{\partial \sigma_{yx}}{\partial x} +%
	\frac{\partial \sigma_{yy}}{\partial y} +%
	\frac{\partial \sigma_{yz}}{\partial z} + b_y &= 0\\
	%
	\frac{\partial \sigma_{zx}}{\partial x} +%
	\frac{\partial \sigma_{zy}}{\partial y} +%
	\frac{\partial \sigma_{zz}}{\partial z} + b_z &= 0\\
	\end{align*}
}	
\mode<handout>{
	\vspace{2.5cm}
}
Stresses in Voigt notation: \mode<beamer>{$\left[\sigma_{xx}, \sigma_{yy}, \sigma_{zz}, \sigma_{xy}, \sigma_{xz}, \sigma_{yz}\right]^T$.}

Equilibrium equation: \mode<beamer>{$\nabla^T \bm{\sigma} + \mathbf{b} = 0$}

Then: \mode<beamer>{
	\begin{equation*}
	\nabla^T = %
	\begin{bmatrix}
	\frac{\partial}{\partial x} & 0 & 0 & \frac{\partial}{\partial y} & 0 & \frac{\partial}{\partial z} \\
	0 & \frac{\partial}{\partial y} & 0 & \frac{\partial}{\partial x} & \frac{\partial}{\partial z} & 0 \\
	0 & 0 & \frac{\partial}{\partial z} & 0 & \frac{\partial}{\partial y} & \frac{\partial}{\partial z}
	\end{bmatrix}
	\end{equation*}
}
\end{frame}

\end{document} 
